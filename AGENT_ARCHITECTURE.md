# QuantAlpha System - Agent 体系架构设计
# 版本: 20260301-v2
# 命名更新: 朗朗上口、简单好记

## 🎯 项目新命名

| 角色 | 原名 | 新名 | 寓意 |
|------|------|------|------|
| **主人** | GX/金策 | **金主** | 简洁直接，金融主导者 |
| **AI助手** | 小X/量灵 | **Q宝** | Q=Quant量化，宝=宝贵助手 |
| **项目名称** | QuantAlpha | **Q脑** | 量化大脑，智能核心 |

---

## 🤖 Agent 组织架构

### 第一层：工程开发层 (Dev Squad)

```
┌─────────────────────────────────────────────────────────────┐
│                    🔧 工程开发层                              │
├──────────────┬──────────────┬──────────────┬────────────────┤
│   架构师     │    开发      │    测试      │    UI设计师     │
│   Archie     │    Dev       │    Testy     │    Pixel        │
├──────────────┼──────────────┼──────────────┼────────────────┤
│ • 系统设计   │ • 代码实现   │ • 单元测试   │ • 界面设计      │
│ • 技术选型   │ • Bug修复    │ • 集成测试   │ • 交互优化      │
│ • 代码审查   │ • 性能优化   │ • 回归测试   │ • 用户体验      │
└──────────────┴──────────────┴──────────────┴────────────────┘
```

| Agent | 名称 | 职责 |
|-------|------|------|
| **Archie** | 架构师 | 系统设计、技术选型、代码审查、方案决策 |
| **Dev** | 开发工程师 | 功能实现、Bug修复、性能优化、技术债务清理 |
| **Testy** | 测试工程师 | 测试用例、自动化测试、质量把控、Bug追踪 |
| **Pixel** | UI设计师 | 界面设计、交互设计、视觉规范、用户体验 |

---

### 第二层：量化金融层 (Quant Squad)

```
┌──────────────────────────────────────────────────────────────────────┐
│                        📈 量化金融层                                  │
├──────────┬──────────┬──────────┬──────────┬──────────┬──────────────┤
│  因子    │  舆情    │  基本面  │  交易    │  风控    │   防守审核    │
│  Factor  │  Senti   │  Funda   │  Trader  │  Risk    │   Guard       │
├──────────┼──────────┼──────────┼──────────┼──────────┼──────────────┤
│•技术指标 │•新闻分析 │•财报分析 │•信号生成 │•仓位管理 │•交易复核     │
│•量价因子 │•社媒情绪 │•估值模型 │•订单执行 │•止损止盈 │•风险预警     │
│•机器学习 │•事件驱动 │•行业对比 │•滑点控制 │•回撤控制 │•合规检查     │
└──────────┴──────────┴──────────┴──────────┴──────────┴──────────────┘
```

| Agent | 名称 | 职责 |
|-------|------|------|
| **Factor** | 因子分析师 | 技术指标、量价因子、多因子模型、机器学习因子挖掘 |
| **Senti** | 舆情分析师 | 新闻 sentiment、社交媒体情绪、事件驱动策略、舆情预警 |
| **Funda** | 基本面分析师 | 财报分析、估值模型、行业对比、基本面选股 |
| **Trader** | 交易执行员 | 交易信号生成、订单执行算法、滑点控制、成交分析 |
| **Risk** | 风控官 | 仓位管理、止损止盈、回撤控制、VaR计算、压力测试 |
| **Guard** | 防守审核员 | 交易复核、风险预警、合规检查、异常检测、熔断机制 |

---

### 第三层：桥梁协调层 (Bridge Squad)

```
┌─────────────────────────────────────────────────────────────┐
│                     🌉 桥梁协调层                             │
├──────────────────────┬──────────────────────────────────────┤
│      回测系统         │           策略沟通与测试               │
│      Backer          │           Strategist                 │
├──────────────────────┼──────────────────────────────────────┤
│• 回测引擎设计        │• 需求理解转化                        │
│• 数据对齐验证        │• 策略可行性评估                      │
│• 绩效归因分析        │• 桥接金融与技术                      │
│• 过拟合检测          │• 策略回测对接                        │
└──────────────────────┴──────────────────────────────────────┘
```

| Agent | 名称 | 职责 |
|-------|------|------|
| **Backer** | 回测系统架构师 | 回测引擎设计、历史数据对齐、绩效归因、过拟合检测 |
| **Strategist** | 策略沟通师 | 需求理解转化、策略可行性评估、桥接金融与技术语言 |

---

### 第四层：管理监控层 (Ops Squad)

```
┌─────────────────────────────────────────────────────────────┐
│                     👁️ 管理监控层                             │
├──────────────────────┬──────────────────────────────────────┤
│      项目管理         │           运维监控                   │
│      PM              │           Ops                        │
├──────────────────────┼──────────────────────────────────────┤
│• Agent任务分配       │• 系统健康监控                        │
│• 进度跟踪            │• 服务状态检测                        │
│• 质量评估            │• 告警通知                            │
│• 日报周报            │• 日志分析                            │
└──────────────────────┴──────────────────────────────────────┘
```

| Agent | 名称 | 职责 |
|-------|------|------|
| **PM** | 项目经理 | Agent任务分配、进度跟踪、质量评估、日报周报生成 |
| **Ops** | 运维工程师 | 系统监控、服务检测、告警通知、日志分析、故障响应 |

---

## 📊 Agent 协作流程

```
┌──────────┐     ┌──────────┐     ┌──────────┐
│   金主   │────→│    PM    │←────│   Q宝    │
│  (用户)  │     │(项目经理)│     │(AI助手)  │
└──────────┘     └────┬─────┘     └──────────┘
                      │
        ┌─────────────┼─────────────┐
        ↓             ↓             ↓
   ┌─────────┐  ┌─────────┐  ┌─────────┐
   │ 工程层  │  │ 金融层  │  │ 桥梁层  │
   │Archie   │  │Factor   │  │Backer   │
   │Dev      │  │Senti    │  │Strategist│
   │Testy    │  │Funda    │  └─────────┘
   │Pixel    │  │Trader   │
   └─────────┘  │Risk     │
                │Guard    │
                └─────────┘
                      │
                      ↓
                ┌─────────┐
                │  Ops    │
                │(监控)   │
                └─────────┘
```

---

## 🎨 命名理念

所有Agent名称遵循以下原则：
1. **朗朗上口** - 2个音节，易读易记
2. **含义明确** - 一听就知道职责
3. **亲切友好** - 像团队成员的名字
4. **英文兼容** - 方便代码中使用

---

## 📋 今日启动计划

根据金主的需求，今天启动以下Agent处理具体任务：

### 批次1: 紧急修复 (立即启动)
1. **Dev** → Massive API整合 + 缓存实现
2. **Testy** → 5005页面问题修复测试
3. **Ops** → 飞书连接诊断

### 批次2: 架构升级 (稍后启动)
4. **Archie** → 整体架构设计文档
5. **Pixel** → Agent管理页面UI设计
6. **PM** → 项目管理系统搭建

### 批次3: 量化金融 (后续启动)
7. **Factor** → 因子分析模块
8. **Senti** → 舆情分析框架
9. **Backer** → 回测系统重构
10. **Strategist** → 策略沟通流程
