# åŸºæœ¬é¢åˆ†ææ¡†æ¶ (Fundamental Analysis Framework)

> Q è„‘é‡åŒ–äº¤æ˜“ç³»ç»Ÿ - åŸºæœ¬é¢åˆ†æä½“ç³»

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
- [æ¨¡å—è¯¦è§£](#æ¨¡å—è¯¦è§£)
- [æ•°æ®æºè§„åˆ’](#æ•°æ®æºè§„åˆ’)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [æ‰©å±•è®¡åˆ’](#æ‰©å±•è®¡åˆ’)

---

## æ¦‚è¿°

æœ¬æ¡†æ¶ä¸º Q è„‘é‡åŒ–äº¤æ˜“ç³»ç»Ÿæä¾›å®Œæ•´çš„åŸºæœ¬é¢åˆ†æèƒ½åŠ›ï¼Œè¦†ç›–è´¢åŠ¡åˆ†æã€ä¼°å€¼å»ºæ¨¡ã€è¡Œä¸šå¯¹æ¯”å’Œè´¢æŠ¥è·Ÿè¸ªå››å¤§æ ¸å¿ƒé¢†åŸŸã€‚

### æ ¸å¿ƒç›®æ ‡

1. **é€‰è‚¡æ”¯æŒ** - é€šè¿‡å¤šç»´åº¦è´¢åŠ¡æŒ‡æ ‡ç­›é€‰ä¼˜è´¨å…¬å¸
2. **ä¼°å€¼å®šä»·** - è¿ç”¨å¤šç§ä¼°å€¼æ¨¡å‹ç¡®å®šåˆç†ä»·å€¼åŒºé—´
3. **é£é™©è¯„ä¼°** - è¯†åˆ«è´¢åŠ¡é£é™©å’Œç«äº‰åŠ£åŠ¿
4. **äº‹ä»¶è·Ÿè¸ª** - ç›‘æ§è´¢æŠ¥ã€åˆ†çº¢ã€æ¿€åŠ±ç­‰é‡è¦äº‹ä»¶

### è®¾è®¡ç†å¿µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Q è„‘åŸºæœ¬é¢åˆ†æä½“ç³»                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  è´¢åŠ¡åˆ†æ    â”‚  â”‚  ä¼°å€¼æ¨¡å‹    â”‚  â”‚  è¡Œä¸šå¯¹æ¯”    â”‚       â”‚
â”‚  â”‚  Analyzer    â”‚  â”‚  Valuation   â”‚  â”‚  Comparison  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚  è´¢æŠ¥è·Ÿè¸ª    â”‚                                           â”‚
â”‚  â”‚  Tracker     â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      æ•°æ®æºå±‚                                 â”‚
â”‚   Yahoo Finance â”‚ Alpha Vantage â”‚ èšå®½ â”‚ Wind â”‚ åŒèŠ±é¡º        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ¶æ„è®¾è®¡

### æ¨¡å—ç»“æ„

```
src/fundamental/
â”œâ”€â”€ financial_analyzer.py    # è´¢åŠ¡åˆ†ææ¨¡å—
â”œâ”€â”€ valuation_models.py      # ä¼°å€¼æ¨¡å‹æ¨¡å—
â”œâ”€â”€ industry_compare.py      # è¡Œä¸šå¯¹æ¯”æ¨¡å—
â”œâ”€â”€ earnings_tracker.py      # è´¢æŠ¥è·Ÿè¸ªæ¨¡å—
â””â”€â”€ __init__.py             # æ¨¡å—å¯¼å‡º
```

### ç±»å…³ç³»å›¾

```
FinancialAnalyzer
â”œâ”€â”€ FinancialStatement (æ•°æ®ç±»)
â”œâ”€â”€ calculate_liquidity_ratios()
â”œâ”€â”€ calculate_profitability_ratios()
â”œâ”€â”€ calculate_leverage_ratios()
â”œâ”€â”€ calculate_efficiency_ratios()
â”œâ”€â”€ dupont_analysis()
â”œâ”€â”€ trend_analysis()
â””â”€â”€ financial_health_score()

ValuationModels
â”œâ”€â”€ ValuationInput (æ•°æ®ç±»)
â”œâ”€â”€ dcf_model()
â”œâ”€â”€ pe_valuation()
â”œâ”€â”€ pb_valuation()
â”œâ”€â”€ ps_valuation()
â”œâ”€â”€ ev_ebitda_valuation()
â”œâ”€â”€ peg_valuation()
â””â”€â”€ comprehensive_valuation()

IndustryComparator
â”œâ”€â”€ CompanyMetrics (æ•°æ®ç±»)
â”œâ”€â”€ IndustryMetrics (æ•°æ®ç±»)
â”œâ”€â”€ compare_to_industry()
â”œâ”€â”€ find_competitors()
â”œâ”€â”€ industry_ranking()
â””â”€â”€ evaluate_moat()

EarningsTracker
â”œâ”€â”€ EarningsReport (æ•°æ®ç±»)
â”œâ”€â”€ EarningsPreview (æ•°æ®ç±»)
â”œâ”€â”€ DividendInfo (æ•°æ®ç±»)
â”œâ”€â”€ StockIncentive (æ•°æ®ç±»)
â”œâ”€â”€ get_earnings_calendar()
â”œâ”€â”€ analyze_earnings_surprise()
â”œâ”€â”€ analyze_dividend_policy()
â””â”€â”€ earnings_quality_score()
```

---

## æ¨¡å—è¯¦è§£

### 1. è´¢åŠ¡åˆ†ææ¨¡å— (financial_analyzer.py)

#### åŠŸèƒ½æ¸…å•

| åŠŸèƒ½ç±»åˆ« | å…·ä½“æŒ‡æ ‡ |
|---------|---------|
| **æµåŠ¨æ€§æ¯”ç‡** | æµåŠ¨æ¯”ç‡ã€é€ŸåŠ¨æ¯”ç‡ã€ç°é‡‘æ¯”ç‡ |
| **ç›ˆåˆ©èƒ½åŠ›** | æ¯›åˆ©ç‡ã€è¥ä¸šåˆ©æ¶¦ç‡ã€å‡€åˆ©ç‡ã€ROEã€ROA |
| **æ æ†æ¯”ç‡** | èµ„äº§è´Ÿå€ºç‡ã€äº§æƒæ¯”ç‡ã€æƒç›Šä¹˜æ•° |
| **æ•ˆç‡æ¯”ç‡** | æ€»èµ„äº§å‘¨è½¬ç‡ã€å­˜è´§å‘¨è½¬ç‡ã€åº”æ”¶è´¦æ¬¾å‘¨è½¬ç‡ |
| **ç°é‡‘æµæ¯”ç‡** | ç»è¥ç°é‡‘æµæ¯”ç‡ã€è‡ªç”±ç°é‡‘æµæ”¶ç›Šç‡ |
| **æœé‚¦åˆ†æ** | ä¸‰å› ç´ /äº”å› ç´  ROE åˆ†è§£ |
| **è¶‹åŠ¿åˆ†æ** | CAGRã€å¹³å‡å¢é•¿ç‡ã€è¶‹åŠ¿åˆ¤æ–­ |
| **å¥åº·è¯„åˆ†** | ç»¼åˆè´¢åŠ¡å¥åº·åº¦è¯„åˆ† (0-100) |

#### æ ¸å¿ƒ API

```python
from src.fundamental import FinancialAnalyzer, FinancialStatement

# åˆå§‹åŒ–
analyzer = FinancialAnalyzer()

# æ·»åŠ è´¢æŠ¥æ•°æ®
statement = FinancialStatement(
    symbol='AAPL',
    report_date=datetime(2024, 12, 31),
    report_type='annual',
    revenue=385000000000,
    net_income=97000000000,
    total_assets=350000000000,
    total_equity=60000000000,
    # ... æ›´å¤šå­—æ®µ
)
analyzer.add_statement(statement)

# è·å–æ‰€æœ‰æ¯”ç‡
ratios = analyzer.get_all_ratios(statement)
# è¾“å‡º: {
#   'liquidity': {'current_ratio': 1.07, ...},
#   'profitability': {'roe': 161.67, ...},
#   ...
# }

# æœé‚¦åˆ†æ
dupont = analyzer.dupont_analysis(statement)
# è¾“å‡º: {'roe': 161.67, 'net_margin': 25.19, 'asset_turnover': 1.1, ...}

# è´¢åŠ¡å¥åº·è¯„åˆ†
health = analyzer.financial_health_score(statement)
# è¾“å‡º: {'total_score': 75.5, 'rating': 'AA', ...}
```

#### è´¢åŠ¡å¥åº·è¯„åˆ†æ ‡å‡†

| è¯„åˆ† | è¯„çº§ | è¯´æ˜ |
|-----|------|------|
| 85-100 | AAA | è´¢åŠ¡æåº¦å¥åº· |
| 75-84 | AA | è´¢åŠ¡å¾ˆå¥åº· |
| 65-74 | A | è´¢åŠ¡å¥åº· |
| 55-64 | BBB | è´¢åŠ¡è‰¯å¥½ |
| 45-54 | BB | è´¢åŠ¡ä¸€èˆ¬ |
| 35-44 | B | è´¢åŠ¡è¾ƒå¼± |
| <35 | C | è´¢åŠ¡é£é™©é«˜ |

---

### 2. ä¼°å€¼æ¨¡å‹æ¨¡å— (valuation_models.py)

#### ä¼°å€¼æ–¹æ³•çŸ©é˜µ

| æ–¹æ³• | é€‚ç”¨åœºæ™¯ | æ ¸å¿ƒè¾“å…¥ | è¾“å‡º |
|-----|---------|---------|------|
| **DCF** | æ‰€æœ‰å…¬å¸ | FCFã€å¢é•¿ç‡ã€WACC | å†…åœ¨ä»·å€¼ã€å®‰å…¨è¾¹é™… |
| **PE** | ç›ˆåˆ©ç¨³å®šå…¬å¸ | å‡€åˆ©æ¶¦ã€è¡Œä¸š PE | åˆç†å¸‚å€¼ |
| **PB** | é‡èµ„äº§è¡Œä¸š | å‡€èµ„äº§ã€è¡Œä¸š PB | åˆç†å¸‚å€¼ |
| **PS** | é«˜å¢é•¿æœªç›ˆåˆ© | è¥æ”¶ã€è¡Œä¸š PS | åˆç†å¸‚å€¼ |
| **EV/EBITDA** | èµ„æœ¬å¯†é›†å‹ | EBITDAã€è¡Œä¸šå€æ•° | ä¼ä¸šä»·å€¼ |
| **PEG** | æˆé•¿è‚¡ | PEã€å¢é•¿ç‡ | ä¼°å€¼åˆç†æ€§ |

#### æ ¸å¿ƒ API

```python
from src.fundamental import ValuationModels, ValuationInput

# åˆå§‹åŒ–
valuator = ValuationModels()

# åˆ›å»ºä¼°å€¼è¾“å…¥
input_data = ValuationInput(
    symbol='AAPL',
    current_price=175.0,
    shares_outstanding=15500000000,
    market_cap=2712500000000,
    free_cash_flow=100000000000,
    revenue=385000000000,
    net_income=97000000000,
    ebitda=125000000000,
    total_equity=60000000000,
    total_debt=110000000000,
    cash_and_equivalents=50000000000,
    fcf_growth_rate=0.08,
    terminal_growth_rate=0.02,
    beta=1.2,
    risk_free_rate=0.04
)

# DCF ä¼°å€¼
dcf_result = valuator.dcf_model(input_data)
# è¾“å‡º: {
#   'wacc': 9.2,
#   'intrinsic_value_per_share': 195.50,
#   'margin_of_safety': 11.71,
#   'recommendation': 'BUY'
# }

# ç›¸å¯¹ä¼°å€¼
pe_result = valuator.pe_valuation(input_data, industry_pe=28.0)
ev_result = valuator.ev_ebitda_valuation(input_data, industry_ev_ebitda=22.0)

# ç»¼åˆä¼°å€¼
industry_comps = {'pe': 28.0, 'pb': 45.0, 'ps': 7.0, 'ev_ebitda': 22.0}
comprehensive = valuator.comprehensive_valuation(input_data, industry_comps)
# è¾“å‡º: {
#   'dcf': {...},
#   'pe_valuation': {...},
#   'consensus': {'target_price': 192.30, 'upside': 9.89}
# }
```

#### æŠ•èµ„å»ºè®®è§„åˆ™

| å®‰å…¨è¾¹é™… | å»ºè®® |
|---------|------|
| â‰¥30% | STRONG_BUY (å¼ºçƒˆä¹°å…¥) |
| 15-30% | BUY (ä¹°å…¥) |
| 0-15% | HOLD (æŒæœ‰) |
| -15-0% | REDUCE (å‡æŒ) |
| <-15% | SELL (å–å‡º) |

---

### 3. è¡Œä¸šå¯¹æ¯”æ¨¡å— (industry_compare.py)

#### åˆ†æç»´åº¦

```
è¡Œä¸šå¯¹æ¯”åˆ†æ
â”œâ”€â”€ è¡Œä¸šå‡å€¼å¯¹æ¯”
â”‚   â”œâ”€â”€ ä¼°å€¼æŒ‡æ ‡ (PE/PB/PS/EV/EBITDA)
â”‚   â”œâ”€â”€ ç›ˆåˆ©èƒ½åŠ› (ROE/ROA/æ¯›åˆ©ç‡/å‡€åˆ©ç‡)
â”‚   â””â”€â”€ è´¢åŠ¡å¥åº· (è´Ÿå€ºç‡/æµåŠ¨æ¯”ç‡)
â”œâ”€â”€ ç«äº‰å¯¹æ‰‹åˆ†æ
â”‚   â”œâ”€â”€ å¸‚å€¼å¯¹æ¯”
â”‚   â”œâ”€â”€ æŒ‡æ ‡å¯¹æ¯”çŸ©é˜µ
â”‚   â””â”€â”€ ç«äº‰å®šä½
â”œâ”€â”€ è¡Œä¸šæ’å
â”‚   â”œâ”€â”€ å•æŒ‡æ ‡æ’å
â”‚   â””â”€â”€ ç»¼åˆæ’å
â””â”€â”€ æŠ¤åŸæ²³è¯„ä¼°
    â”œâ”€â”€ ç›ˆåˆ©èƒ½åŠ›æŠ¤åŸæ²³
    â”œâ”€â”€ åˆ©æ¶¦ç‡æŠ¤åŸæ²³
    â”œâ”€â”€ å¢é•¿æŠ¤åŸæ²³
    â”œâ”€â”€ è´¢åŠ¡å¥åº·æŠ¤åŸæ²³
    â””â”€â”€ ä¼°å€¼æŠ¤åŸæ²³
```

#### æ ¸å¿ƒ API

```python
from src.fundamental import IndustryComparator, CompanyMetrics

# åˆå§‹åŒ–
comparator = IndustryComparator()

# æ·»åŠ å…¬å¸æ•°æ®
company = CompanyMetrics(
    symbol='AAPL',
    name='Apple',
    sector='Technology',
    industry='Consumer Electronics',
    market_cap=2800000000000,
    pe_ratio=28,
    pb_ratio=45,
    roe=150,
    gross_margin=44,
    net_margin=25,
    revenue_growth=0.08,
    debt_to_equity=1.8,
    # ... æ›´å¤šå­—æ®µ
)
comparator.add_company(company)

# è¡Œä¸šå¯¹æ¯”
comparison = comparator.compare_to_industry('AAPL')
# è¾“å‡º: {
#   'metrics': {
#     'valuation': {'pe': {'company': 28, 'industry_avg': 25, 'vs_industry': 12.0}},
#     'profitability': {'roe': {'company': 150, 'industry_avg': 80, 'vs_industry': 70}},
#     ...
#   }
# }

# æŠ¤åŸæ²³è¯„ä¼°
moat = comparator.evaluate_moat('AAPL')
# è¾“å‡º: {
#   'total_score': 75,
#   'moat_rating': 'Narrow',
#   'description': 'çª„æŠ¤åŸæ²³ï¼Œæœ‰ä¸€å®šç«äº‰ä¼˜åŠ¿',
#   'dimensions': {
#     'profitability': {'score': 25, 'reason': 'ROE >= 20%, å“è¶Šç›ˆåˆ©èƒ½åŠ›'},
#     ...
#   }
# }

# è¡Œä¸šæ’å
rankings = comparator.industry_ranking('Technology', metric='roe', top_n=10)
```

#### æŠ¤åŸæ²³è¯„çº§æ ‡å‡†

| æ€»åˆ† | è¯„çº§ | è¯´æ˜ |
|-----|------|------|
| â‰¥80 | Wide | å®½æŠ¤åŸæ²³ï¼Œç«äº‰ä¼˜åŠ¿æ˜¾è‘— |
| 60-79 | Narrow | çª„æŠ¤åŸæ²³ï¼Œæœ‰ä¸€å®šç«äº‰ä¼˜åŠ¿ |
| 40-59 | None | æ— æ˜æ˜¾æŠ¤åŸæ²³ |
| <40 | Weak | ç«äº‰åœ°ä½è–„å¼± |

---

### 4. è´¢æŠ¥è·Ÿè¸ªæ¨¡å— (earnings_tracker.py)

#### è·Ÿè¸ªäº‹ä»¶ç±»å‹

| äº‹ä»¶ç±»å‹ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|---------|------|--------|
| è´¢æŠ¥å‘å¸ƒ | å­£æŠ¥/å¹´æŠ¥å‘å¸ƒ | é«˜ |
| ä¸šç»©é¢„å‘Š | ä¸šç»©é¢„å¢/é¢„å‡å…¬å‘Š | é«˜ |
| åˆ†çº¢æ´¾æ¯ | ç°é‡‘åˆ†çº¢/é€è‚¡/é…è‚¡ | ä¸­ |
| è‚¡æƒæ¿€åŠ± | å‘˜å·¥æŒè‚¡/æœŸæƒè®¡åˆ’ | ä¸­ |
| ä¸šç»©è¯´æ˜ä¼š | ç®¡ç†å±‚äº¤æµä¼šè®® | ä¸­ |

#### æ ¸å¿ƒ API

```python
from src.fundamental import EarningsTracker, EarningsReport, ReportType

# åˆå§‹åŒ–
tracker = EarningsTracker()
tracker.add_to_watchlist(['AAPL', 'MSFT', 'GOOGL'])

# æ·»åŠ è´¢æŠ¥
report = EarningsReport(
    symbol='AAPL',
    report_date=datetime(2024, 12, 31),
    report_type=ReportType.Q1,
    fiscal_year=2024,
    fiscal_period='Q1 2024',
    revenue=120000000000,
    revenue_yoy=0.08,
    net_income=35000000000,
    eps=2.15,
    eps_yoy=0.12,
    estimated_revenue=118000000000,
    estimated_eps=2.10
)
tracker.add_earnings_report(report)

# è¶…é¢„æœŸåˆ†æ
surprise = tracker.analyze_earnings_surprise('AAPL')
# è¾“å‡º: {
#   'eps_beat_rate': 75.0,
#   'avg_eps_surprise': 3.5,
#   'surprises': [...]
# }

# åˆ†çº¢åˆ†æ
dividend = tracker.analyze_dividend_policy('AAPL')
# è¾“å‡º: {
#   'avg_dividend_yield': 0.55,
#   'dividend_growth_rate': 5.2,
#   'consecutive_years': 10,
#   'dividend_aristocrat': True
# }

# è´¢æŠ¥è´¨é‡è¯„åˆ†
quality = tracker.earnings_quality_score('AAPL')
# è¾“å‡º: {
#   'total_score': 82,
#   'rating': 'A',
#   'factors': {'surprise': 30, 'trend': 25, ...}
# }

# è´¢æŠ¥æ—¥å†
calendar = tracker.get_earnings_calendar(
    start_date=datetime.now(),
    end_date=datetime.now() + timedelta(days=30)
)

# äº‹ä»¶æé†’
alerts = tracker.get_earnings_alerts()
```

#### è´¢æŠ¥è´¨é‡è¯„åˆ†æ ‡å‡†

| æ€»åˆ† | è¯„çº§ | è¯´æ˜ |
|-----|------|------|
| 85-100 | A+ | è´¢æŠ¥è´¨é‡æä½³ |
| 75-84 | A | è´¢æŠ¥è´¨é‡ä¼˜ç§€ |
| 65-74 | B+ | è´¢æŠ¥è´¨é‡è‰¯å¥½ |
| 55-64 | B | è´¢æŠ¥è´¨é‡ä¸€èˆ¬ |
| 45-54 | C | è´¢æŠ¥è´¨é‡è¾ƒå¼± |
| <45 | D | è´¢æŠ¥è´¨é‡å·® |

---

## æ•°æ®æºè§„åˆ’

### æ¨èæ•°æ®æº

#### ç¾è‚¡æ•°æ®

| æ•°æ®æº | ç±»å‹ | å…è´¹é¢åº¦ | é€‚ç”¨åœºæ™¯ |
|-------|------|---------|---------|
| **Yahoo Finance** | API/çˆ¬è™« | å…è´¹ | åŸºç¡€è¡Œæƒ…ã€è´¢æŠ¥ |
| **Alpha Vantage** | API | 5 æ¬¡/åˆ†é’Ÿ | è´¢åŠ¡æŒ‡æ ‡ã€ä¼°å€¼ |
| **IEX Cloud** | API | ä»˜è´¹ | ä¸“ä¸šè´¢åŠ¡æ•°æ® |
| **Finnhub** | API | 60 æ¬¡/åˆ†é’Ÿ | å®æ—¶è¡Œæƒ…ã€è´¢æŠ¥ |
| **SEC EDGAR** | å®˜æ–¹ | å…è´¹ | åŸå§‹è´¢æŠ¥æ–‡ä»¶ |

#### A è‚¡æ•°æ®

| æ•°æ®æº | ç±»å‹ | å…è´¹é¢åº¦ | é€‚ç”¨åœºæ™¯ |
|-------|------|---------|---------|
| **èšå®½ (JoinQuant)** | API | å…è´¹ | å…¨é¢ A è‚¡æ•°æ® |
| **Tushare** | API | ç§¯åˆ†åˆ¶ | è´¢åŠ¡æŒ‡æ ‡ã€è¡Œæƒ… |
| **AkShare** | çˆ¬è™« | å…è´¹ | å¤šæºæ•°æ®èšåˆ |
| **Wind** | ç»ˆç«¯ | ä»˜è´¹ | ä¸“ä¸šæœºæ„æ•°æ® |
| **åŒèŠ±é¡º iFinD** | ç»ˆç«¯ | ä»˜è´¹ | ä¸“ä¸šæœºæ„æ•°æ® |

### æ•°æ®è·å–ç­–ç•¥

```python
# æ•°æ®æºä¼˜å…ˆçº§é…ç½®
DATA_SOURCES = {
    'us_stocks': {
        'primary': 'yahoo_finance',
        'fallback': ['alpha_vantage', 'finnhub'],
        'official': 'sec_edgar'
    },
    'cn_stocks': {
        'primary': 'joinquant',
        'fallback': ['tushare', 'akshare'],
        'official': 'wind'
    }
}

# æ•°æ®æ›´æ–°é¢‘ç‡
UPDATE_FREQUENCY = {
    'price': 'realtime',      # å®æ—¶
    'financials': 'quarterly', # å­£åº¦
    'estimates': 'daily',      # æ¯æ—¥
    'dividends': 'event',      # äº‹ä»¶é©±åŠ¨
    'insider': 'weekly'        # æ¯å‘¨
}
```

### æ•°æ®ç¼“å­˜ç­–ç•¥

```
æ•°æ®ç¼“å­˜æ¶æ„
â”œâ”€â”€ Redis (çƒ­æ•°æ®)
â”‚   â”œâ”€â”€ å®æ—¶è¡Œæƒ… (TTL: 1 åˆ†é’Ÿ)
â”‚   â”œâ”€â”€ ä¼°å€¼æŒ‡æ ‡ (TTL: 1 å°æ—¶)
â”‚   â””â”€â”€ è´¢æŠ¥æ—¥å† (TTL: 1 å¤©)
â”œâ”€â”€ PostgreSQL (å†·æ•°æ®)
â”‚   â”œâ”€â”€ å†å²è´¢æŠ¥
â”‚   â”œâ”€â”€ å†å²ä¼°å€¼
â”‚   â””â”€â”€ è¡Œä¸šæ•°æ®
â””â”€â”€ æœ¬åœ°ç¼“å­˜ (SQLite)
    â”œâ”€â”€ ç”¨æˆ·è‡ªé€‰è‚¡
    â””â”€â”€ åˆ†æç»“æœ
```

---

## ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

```python
from src.fundamental import (
    FinancialAnalyzer, FinancialStatement,
    ValuationModels, ValuationInput,
    IndustryComparator, CompanyMetrics,
    EarningsTracker, EarningsReport
)

# 1. è´¢åŠ¡åˆ†æ
analyzer = FinancialAnalyzer()
statement = FinancialStatement(symbol='AAPL', ...)
analyzer.add_statement(statement)
ratios = analyzer.get_all_ratios(statement)
health_score = analyzer.financial_health_score(statement)

# 2. ä¼°å€¼å»ºæ¨¡
valuator = ValuationModels()
input_data = ValuationInput(symbol='AAPL', ...)
dcf_value = valuator.dcf_model(input_data)
comprehensive = valuator.comprehensive_valuation(input_data)

# 3. è¡Œä¸šå¯¹æ¯”
comparator = IndustryComparator()
comparator.add_company(CompanyMetrics(...))
industry_report = comparator.generate_industry_report('Technology')
moat = comparator.evaluate_moat('AAPL')

# 4. è´¢æŠ¥è·Ÿè¸ª
tracker = EarningsTracker()
tracker.add_earnings_report(EarningsReport(...))
quality_score = tracker.earnings_quality_score('AAPL')
alerts = tracker.get_earnings_alerts()
```

### é€‰è‚¡æµç¨‹ç¤ºä¾‹

```python
def screen_stocks(universe: List[str]) -> List[Dict]:
    """åŸºæœ¬é¢é€‰è‚¡æµç¨‹"""
    results = []
    
    for symbol in universe:
        # 1. è·å–è´¢åŠ¡æ•°æ®
        statement = get_financial_statement(symbol)
        analyzer = FinancialAnalyzer()
        analyzer.add_statement(statement)
        
        # 2. è´¢åŠ¡å¥åº·ç­›é€‰
        health = analyzer.financial_health_score(statement)
        if health['total_score'] < 60:
            continue
        
        # 3. ä¼°å€¼åˆ†æ
        input_data = create_valuation_input(symbol)
        valuator = ValuationModels()
        valuation = valuator.dcf_model(input_data)
        
        if valuation['margin_of_safety'] < 15:
            continue
        
        # 4. è¡Œä¸šå¯¹æ¯”
        comparator = IndustryComparator()
        moat = comparator.evaluate_moat(symbol)
        
        if moat['total_score'] < 60:
            continue
        
        # 5. è´¢æŠ¥è´¨é‡
        tracker = EarningsTracker()
        quality = tracker.earnings_quality_score(symbol)
        
        if quality['total_score'] < 65:
            continue
        
        # é€šè¿‡ç­›é€‰
        results.append({
            'symbol': symbol,
            'health_score': health['total_score'],
            'valuation_upside': valuation['margin_of_safety'],
            'moat_score': moat['total_score'],
            'quality_score': quality['total_score'],
            'composite_score': (
                health['total_score'] * 0.25 +
                valuation['margin_of_safety'] * 0.25 +
                moat['total_score'] * 0.25 +
                quality['total_score'] * 0.25
            )
        })
    
    # æŒ‰ç»¼åˆè¯„åˆ†æ’åº
    results.sort(key=lambda x: x['composite_score'], reverse=True)
    return results
```

---

## æ‰©å±•è®¡åˆ’

### çŸ­æœŸ (1-3 ä¸ªæœˆ)

- [ ] æ¥å…¥çœŸå®æ•°æ®æº (Yahoo Finance, èšå®½)
- [ ] å®ç°æ•°æ®ç¼“å­˜å±‚
- [ ] æ·»åŠ æ‰¹é‡åˆ†æåŠŸèƒ½
- [ ] å®Œå–„å¼‚å¸¸å¤„ç†
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•

### ä¸­æœŸ (3-6 ä¸ªæœˆ)

- [ ] é›†æˆåˆ° Q è„‘ä¸»ç³»ç»Ÿ
- [ ] æ·»åŠ å¯è§†åŒ–æŠ¥è¡¨
- [ ] å®ç°è‡ªåŠ¨é€‰è‚¡ç­–ç•¥
- [ ] æ·»åŠ åˆ†æå¸ˆé¢„æœŸæ•°æ®
- [ ] æ”¯æŒå¤šå¸‚åœº (ç¾è‚¡/A è‚¡/æ¸¯è‚¡)

### é•¿æœŸ (6-12 ä¸ªæœˆ)

- [ ] AI è¾…åŠ©è´¢åŠ¡åˆ†æ
- [ ] è‡ªç„¶è¯­è¨€è´¢æŠ¥æ‘˜è¦
- [ ] é£é™©é¢„è­¦ç³»ç»Ÿ
- [ ] æœºæ„æŒä»“è·Ÿè¸ª
- [ ] ESG è¯„åˆ†é›†æˆ

---

## é™„å½•

### å…³é”®è´¢åŠ¡æŒ‡æ ‡å…¬å¼

```
æµåŠ¨æ€§æ¯”ç‡:
  æµåŠ¨æ¯”ç‡ = æµåŠ¨èµ„äº§ / æµåŠ¨è´Ÿå€º
  é€ŸåŠ¨æ¯”ç‡ = (æµåŠ¨èµ„äº§ - å­˜è´§) / æµåŠ¨è´Ÿå€º
  ç°é‡‘æ¯”ç‡ = è´§å¸èµ„é‡‘ / æµåŠ¨è´Ÿå€º

ç›ˆåˆ©èƒ½åŠ›:
  æ¯›åˆ©ç‡ = æ¯›åˆ©æ¶¦ / è¥ä¸šæ”¶å…¥
  è¥ä¸šåˆ©æ¶¦ç‡ = è¥ä¸šåˆ©æ¶¦ / è¥ä¸šæ”¶å…¥
  å‡€åˆ©ç‡ = å‡€åˆ©æ¶¦ / è¥ä¸šæ”¶å…¥
  ROE = å‡€åˆ©æ¶¦ / è‚¡ä¸œæƒç›Š
  ROA = å‡€åˆ©æ¶¦ / æ€»èµ„äº§

æ æ†æ¯”ç‡:
  èµ„äº§è´Ÿå€ºç‡ = æ€»è´Ÿå€º / æ€»èµ„äº§
  äº§æƒæ¯”ç‡ = æ€»è´Ÿå€º / è‚¡ä¸œæƒç›Š
  æƒç›Šä¹˜æ•° = æ€»èµ„äº§ / è‚¡ä¸œæƒç›Š

æ•ˆç‡æ¯”ç‡:
  æ€»èµ„äº§å‘¨è½¬ç‡ = è¥ä¸šæ”¶å…¥ / æ€»èµ„äº§
  å­˜è´§å‘¨è½¬ç‡ = è¥ä¸šæˆæœ¬ / å¹³å‡å­˜è´§
  åº”æ”¶è´¦æ¬¾å‘¨è½¬ç‡ = è¥ä¸šæ”¶å…¥ / å¹³å‡åº”æ”¶è´¦æ¬¾

æœé‚¦åˆ†æ:
  ROE = å‡€åˆ©ç‡ Ã— æ€»èµ„äº§å‘¨è½¬ç‡ Ã— æƒç›Šä¹˜æ•°

ä¼°å€¼æŒ‡æ ‡:
  PE = å¸‚å€¼ / å‡€åˆ©æ¶¦
  PB = å¸‚å€¼ / å‡€èµ„äº§
  PS = å¸‚å€¼ / è¥ä¸šæ”¶å…¥
  EV/EBITDA = ä¼ä¸šä»·å€¼ / æ¯ç¨æŠ˜æ—§æ‘Šé”€å‰åˆ©æ¶¦
  PEG = PE / (å‡€åˆ©æ¶¦å¢é•¿ç‡ Ã— 100)
```

### ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|-----|------|---------|
| 1.0.0 | 2026-03-01 | åˆå§‹ç‰ˆæœ¬ï¼Œå››å¤§æ ¸å¿ƒæ¨¡å—å®Œæˆ |

---

**æ–‡æ¡£ç»´æŠ¤**: Q è„‘å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2026-03-01
